## 💡네트워크 모델의 종류

### TCP/IP

| 4계층 | 응용 |
| --- | --- |
| 3계층 | 전송 |
| 2계층 | 네트워크 |
| 1계층 | 네트워크 인터페이스 |

</br>

### OSI 7 Layer

- ISO에서 네트워크의 표준으로 지정한 모델
- 데이터를 주고받을 때 데이터 자체 흐름을 각 구간별로 나눠 놓은 것
- 계층별 프로토콜
    
    
    | 7계층 | 응용 | HTTP, SMPT, IMAP, POP, SNMP, FTP, TELNET, SSH |
    | --- | --- | --- |
    | 6계층 | 표현 | SMB, AFP, XDR |
    | 5계층 | 세션 | NetBIOS |
    | 4계층 | 전송 | TCP, UDP, SPX |
    | 3계층 | 네트워크 | IP, ICMP, IGMP, X.25, CLNP, ARP, RARP, BGP, OSPF, RIP, IPX, DDP |
    | 2계층 | 데이터 링크 | 이더넷, 토큰링, PPP, HDLC, 프레임 릴레이, ISDN, ATM, 무선랜, FDDI |
    | 1계층 | 물리 | 전선, 전파, 광섬유, 동축케이블, 도파관, PSTN, 리피터, DSU, CSU, 모뎀 |

</br>

### 공통점

- 계층적 네트워크 모델
- 계층간 역할 정의

</br>

### 차이점

- 계층의 수
- OSI는 역할 기반, TCP/IP는 프로토콜 기반
- OSI는 통신 전반에 대한 표준
- TCP/IP는 데이터 전송기술 특화

| OSI 7계층 |  | TCP/IP |  |
| --- | --- | --- | --- |
| 7계층 | 응용 | 4계층 | 응용 |
| 6계층 | 표현 |  |  |
| 5계층 | 세션 |  |  |
| 4계층 | 전송 | 3계층 | 전송 |
| 3계층 | 네트워크 | 2계층 | 네트워크 |
| 2계층 | 데이터 링크 | 1계층 | 네트워크 인터페이스 |
| 1계층 | 물리 |  |  |

</br>

## 💡패킷

### 패킷이란?

- **네트워크 상에서 전달되는 데이터**를 통칭하는 말
- 네트워크에서 전달하는 데이터의 형식화된 블록
- `제어 정보 + 사용자 데이터` 로 이루어지며 사용자 데이터는 페이로드라고도 함
- 프로토콜에는 순서가 있음 ~~(러시아 인형으로 생각하면 됨)~~

</br>

### 패킷을 이용한 통신과정

- 여러 프로토콜들로 캡슐화된 패킷
    - 구성
        
        
        | 헤더 | 페이로드 | 풋터 |
        | --- | --- | --- |
        - **헤더**
        - **페이로드** : 실질적으로 전달하려는 데이터
        - 풋터 : 일반적으로 풋터는 잘 사용하지 않음
        - 예시
            
            
            | Ethernet | IPv4 | TCP | HTTP |
            | --- | --- | --- | --- |
            - TCP + HTTP → 헤더 : TCP, 페이로드 : HTTP
            - IPv4 + (TCP + HTTP) → 헤더 : IPv4, 페이로드 : (TCP + HTTP)
 
</br>        

### ⭐️캡슐화(Encapsulation)⭐️

- **여러 프로토콜을 이용해서 최종적으로 보낼 때 패킷을 만드는 과정**
    
    ![IMG_0074](https://user-images.githubusercontent.com/8343301/182308834-ad00491f-423d-4449-ada3-8570476f7b75.PNG)
    
    - 네이버에서 OO을 검색하는 과정
        - 1 : 보내려는 데이터(OO)
        - 2 : 네이버 웹서버와 통신하기 위해 TCP(4계층)를 헤더하고 1번 데이터를 페이로드로 인캡슐레이션함
        - 3 : 멀리 가야하기 때문에 IPv4(3계층)를 헤더로하고, 2번을 페이로드로 하여 인캡슐레이션함
        - 4 : 가까운 곳과 통신하기 위해 Ethernet(1계층)을 헤더로 가지고, 3번을 페이로드로 인캔슐레이션함
- **캡슐화는 상위계층 → 하위계층으로 프로토콜을 붙임**(OSI 7계층, TCP/IP 둘다 해당됨)
- **즉, 하위 프로토콜 앞에 상위 프로토콜이 올 수 없음**

</br>

### ⭐️디캡슐화(De**capsulation)**⭐️

- **패킷을 받았을 때 프로토콜들을 하나씩 확인하면서 데이터를 확인하는 과정**
- 하위 프로토콜부터 확인함
    
    ![IMG_0075](https://user-images.githubusercontent.com/8343301/182309096-dc6d6732-404f-4300-adf6-170f1a4fe50a.jpg)
    
    - Decapsulation 과정
        - 1 : 헤더 : Ethernet, 페이로드 : (IPv4 + TCP + 데이터)
        - 2 : 헤더 : IPv4, 페이로드 : (TCP + 데이터)
        - 3 : 헤더 : TCP, 페이로드 : (데이터)
        - 4 : 순수한 데이터 확인

</br>        

### 계층별 패킷의 이름, PDU(Protocol Data Unit)

- OO계층까지 캡슐화가 된 패킷 단위

| Ethernet | IPv4 | TCP | 데이터 |

- 4계층의 PCU : **세그먼트**
    - TCP + 데이터
- 3계층의 PCU : **패킷**(통칭해서 사용하는 패킷과 용어는 같지만 뜻은 다름)
    - IPv4 + TCP + 데이터
- 2계층의 PCU : 프레임
    - Ethernet + IPv4 + TCP + 데이터